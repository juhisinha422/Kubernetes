Kubernetes Health Checks â€” Liveness vs Readiness Probes (Simple Guide)

When running apps in Kubernetes, a pod may show as runningâ€¦ but the application inside may not be healthy.

Example issues: âœ”ï¸ App deadlock
âœ”ï¸ Memory leak
âœ”ï¸ High CPU usage
âœ”ï¸ App accessible internally but not responding to traffic

Kubernetes uses Probes to detect and fix these issues automatically ğŸ‘‡
---
ğŸ©º Liveness Probe â€” Is the app alive?

Kubelet by default only checks if container process is running, not if the app is healthy.
If liveness probe fails â†’ Kubernetes restarts the container.

ğŸ“Œ Example Scenario
App is running but unresponsive due to memory leakage â†’ Liveness probe detects failure â†’ Restart fixes issue.

ğŸ“ Sample YAML

livenessProbe:
  httpGet:
    path: /health
    port: 8080
  initialDelaySeconds: 5  # Wait before first check
  periodSeconds: 5        # Check every 5 sec

âœ¨ Benefit: If health check fails â†’ Auto healing of the application
---
ğŸš§ Readiness Probe â€” Is the app ready for traffic?

Even if the app is running, it may not be ready to serve users.
If readiness probe fails â†’ Service removes the pod from endpoints â†’ No traffic sent to this pod.

ğŸ“Œ Example Scenario
App is booting and still connecting to DB â†’ Donâ€™t send traffic yet â†’ Readiness probe ensures zero user errors.

ğŸ“ Sample YAML

readinessProbe:
  httpGet:
    path: /ready
    port: 8080
  initialDelaySeconds: 3  # Start checking after 3 sec
  periodSeconds: 5        # Check every 5 sec

âœ¨ Benefit: Traffic only goes to healthy & fully-ready pods
---
ğŸ” What Happens When Probes Fail?

> If readiness probe fails, kubelet removes the pod from service endpoint. 
> And liveness probe checks on same pod, if it fails restarts the container. 
> Here again readiness probe checks if container is ready to accept traffic, if healthy then adds it to service endpoint. 
---
ğŸ¯ Practical Use Cases

Issue	Probe Solution

Deadlock, memory leak, CPU spike	Restart via Liveness Probe
App still initializing resources	Block traffic using Readiness Probe
Rolling upgrades	Use readiness to avoid sending traffic during restart
Avoid downtime during deployments	Readiness ensures smooth routing
---
âš™ï¸ Common Probe Config Options (from your notes)

Parameter	Purpose

initialDelaySeconds	Wait before running first check
periodSeconds	Check frequency
timeoutSeconds	Max wait time per check
failureThreshold	No. of failures before action
successThreshold	No. of successes before marking ready
---
ğŸ§  Key Takeaways

âœ”ï¸ Kubernetes process running â‰  App healthy
âœ”ï¸ Restarting containers can automatically fix many runtime issues
âœ”ï¸ Probes = stability + smooth deployments + better UX
âœ”ï¸ Readiness ensures services never send traffic to unhealthy pods
